## PHASE-6-PLAN.md

# PHASE 6: UI/UX 개선 및 핵심 기능 고도화

## 목표

복잡한 UI를 통합하고 직관적으로 개선하며, 사용성을 높이는 핵심 기능(다중 마네킹, 포즈 프리셋, 직접 조작)을 추가합니다. 또한, 사용자가 처음 마주하는 장면의 시각적 품질을 높이기 위해 기본 조명을 3점 조명으로 개선합니다.

---

### TO-DO LIST

#### 1. 컨트롤 패널 통합 및 UI 구조 개편

- [ ] **단일 패널로 통합**: 좌우에 분산된 `MannequinControls`와 `Controls` 컴포넌트를 화면 우측의 `EditorPanel.jsx`라는 단일 컴포넌트로 통합합니다.
- [ ] **탭 기반 UI 도입**: `EditorPanel.jsx` 내부에 'Scene', 'Lighting', 'Mannequin' 탭을 만들어 각 제어 기능을 분리합니다. 이를 통해 복잡도를 낮추고 UI를 깔끔하게 정리합니다.
- [ ] **컴포넌트 리팩토링**: 기존 컨트롤 컴포넌트의 로직을 새로운 탭 구조에 맞게 재배치하고 수정합니다.

#### 2. 다중 마네킹 기능 구현

- [ ] **Zustand Store 상태 변경**:
  - `mannequinPose`를 단일 객체에서 여러 마네킹의 상태(id, position, pose 등)를 저장하는 배열 `mannequins`로 변경합니다.
  - 현재 선택된 마네킹을 추적하기 위한 `selectedMannequinId` 상태를 추가합니다.
  - 마네킹을 추가(`addMannequin`), 선택(`selectMannequin`), 삭제(`deleteMannequin`)하는 액션 함수를 구현합니다.
- [ ] **'Mannequin' 탭 UI 수정**:
  - '마네킹 추가' 버튼을 만듭니다.
  - 현재 장면에 있는 마네킹 목록을 표시하고, 목록에서 마네킹을 클릭하면 `selectedMannequinId`가 변경되도록 합니다.
  - 관절 제어 슬라이더들은 **선택된 마네킹**의 포즈에만 영향을 주도록 로직을 수정합니다.
- [ ] **`Scene.jsx` 수정**: `mannequins` 배열을 순회하며 장면에 모든 마네킹을 렌더링하도록 수정합니다.

#### 3. 편의 기능 추가 (포즈 프리셋, 직접 조작)

- [ ] **포즈 프리셋 기능**:
  - '서 있는 자세', '앉은 자세' 등 몇 가지 기본 포즈에 대한 관절 회전 값을 데이터로 미리 정의합니다. (`presets.js` 파일 생성)
  - 'Mannequin' 탭에 프리셋 버튼들을 추가합니다.
  - 버튼 클릭 시, 선택된 마네킹에 해당 프리셋 포즈를 적용하는 `applyPosePreset` 액션을 스토어에 구현하고 연동합니다.
- [ ] **마네킹 직접 선택 기능 (MVP)**:
  - 3D 장면에서 마네킹을 클릭(Raycasting)하면, 해당 마네킹이 '선택된 마네킹'(`selectedMannequinId`)이 되도록 구현합니다.
- [ ] **관절 직접 선택 기능 (MVP)**:
  - 마네킹의 특정 부위(팔, 다리 등)를 클릭하면, 오른쪽 `EditorPanel`에 있는 해당 관절의 슬라이더 컨트롤이 하이라이트되거나 해당 위치로 스크롤되도록 구현합니다. (직접 3D Gizmo로 조작하는 것은 다음 단계 목표로 설정)

#### 4. 기본 조명 환경 개선

- [ ] **Zustand Store 기본값 수정**: `store.js`의 `lights` 배열 초기값을 3점 조명(Three-point lighting) 설정으로 변경합니다.
- [ ] **3점 조명 배치**:
  - **Key Light (주 조명)**: 마네킹의 전면을 비추는 가장 강한 흰색 `spotLight`.
  - **Fill Light (보조 조명)**: Key Light가 만든 그림자를 부드럽게 만드는 약한 `spotLight`.
  - **Back Light (후면 조명)**: 마네킹의 실루엣을 강조하는 `spotLight`.
  - 각 조명의 위치, 강도, 색상(흰색 계열)을 적절하게 설정하여 깊이 있고 전문적인 느낌의 기본 장면을 연출합니다.

---
